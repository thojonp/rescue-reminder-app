<app-messages></app-messages>

<div class="register-container">
  <div class="register-card">
    <div class="register-header">
      <!-- Swissgliders Logo -->
      <div style="margin-bottom: 24px; display: flex; justify-content: center;">
        <img src="assets/swissgliders-logo.png" alt="Swissgliders Logo" style="width: 100px; height: 100px;">
      </div>
      
      <h1>üö® Konto erstellen</h1>
      <p>Registrieren Sie sich f√ºr das Rettungsger√§t Management</p>
    </div>

    <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
      <div class="form-row">
        <div class="form-group">
          <label for="first_name">Vorname *</label>
          <input
            type="text"
            id="first_name"
            name="first_name"
            [(ngModel)]="registerData.first_name"
            required
            #firstName="ngModel"
            class="form-control"
            placeholder="Max"
          />
          @if (firstName.invalid && firstName.touched) {
            <div class="error-text">Vorname ist erforderlich</div>
          }
        </div>

        <div class="form-group">
          <label for="last_name">Nachname *</label>
          <input
            type="text"
            id="last_name"
            name="last_name"
            [(ngModel)]="registerData.last_name"
            required
            #lastName="ngModel"
            class="form-control"
            placeholder="Mustermann"
          />
          @if (lastName.invalid && lastName.touched) {
            <div class="error-text">Nachname ist erforderlich</div>
          }
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email *</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="registerData.email"
          required
          email
          #email="ngModel"
          class="form-control"
          placeholder="ihre@email.com"
        />
        @if (email.invalid && email.touched) {
          <div class="error-text">G√ºltige Email ist erforderlich</div>
        }
      </div>

      <div class="form-group">
        <label for="password">Passwort *</label>
        <input
          type="password"
          id="password"
          name="password"
          [(ngModel)]="registerData.password"
          required
          minlength="6"
          #password="ngModel"
          class="form-control"
          placeholder="Mindestens 6 Zeichen"
        />
        @if (password.invalid && password.touched) {
          <div class="error-text">Passwort muss mindestens 6 Zeichen lang sein</div>
        }
      </div>

      <div class="form-group">
        <label for="confirmPassword">Passwort best√§tigen *</label>
        <input
          type="password"
          id="confirmPassword"
          name="confirmPassword"
          [(ngModel)]="confirmPassword"
          required
          #confirmPass="ngModel"
          class="form-control"
          placeholder="Passwort wiederholen"
        />
        @if (confirmPass.touched && registerData.password !== confirmPassword) {
          <div class="error-text">Passw√∂rter stimmen nicht √ºberein</div>
        }
      </div>

      <button 
        type="submit" 
        [disabled]="registerForm.invalid || isLoading || registerData.password !== confirmPassword"
        class="btn-primary btn-block"
      >
        @if (isLoading) {
          <span>Wird registriert...</span>
        } @else {
          <span>Registrieren</span>
        }
      </button>
    </form>

    <div class="register-footer">
      <p>Bereits ein Konto? <a routerLink="/login">Jetzt anmelden</a></p>
    </div>
  </div>
</div>